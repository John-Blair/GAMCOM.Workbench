var gam=gam||{};gam.form=gam.form||{};gam.form.changeProfile=gam.form.changeProfile||{};gam.form.changeProfile.controls=gam.form.changeProfile.controls||{};gam.form.changeProfile.controls.changeProfileProfessionalCountry="#changeProfileProfessionalCountry";gam.form.changeProfile.controls.changeProfileIndividualCountry="#changeProfileIndividualCountry";gam.form.changeProfile.controls.changeProfileLanguage="#changeProfileLanguage";gam.form.changeProfile.controls.changeProfileInvestorType="#changeProfileInvestorType";gam.form.changeProfile.controls.changeProfileDialog="#changeProfileDialog";gam.form.changeProfile.controls.changeProfileDisclaimerDialog="#changeProfileDisclaimerDialog";gam.form.changeProfile.controls.changeProfileError="#changeProfileError";gam.form.changeProfile.dialogActions=gam.form.changeProfile.dialogActions||{};gam.form.changeProfile.dialogActions.open="open";gam.form.changeProfile.dialogActions.close="close";gam.form.changeProfile.country="";gam.form.changeProfile.language="";gam.form.changeProfile.investorType="";gam.form.changeProfile.investorTypeProfessional="professional";gam.form.changeProfile.investorTypeIndividual="individual";gam.form.changeProfile.clearError=function(){$(gam.form.changeProfile.controls.changeProfileError).empty().hide()};gam.form.changeProfile.setError=function(a){$(gam.form.changeProfile.controls.changeProfileError).text(a)};gam.form.changeProfile.resetForm=function(){gam.form.changeProfile.clearError();var a="hidden";$(gam.form.changeProfile.controls.changeProfileIndividualCountry).addClass(a);$(gam.form.changeProfile.controls.changeProfileProfessionalCountry).removeClass(a);$(gam.form.changeProfile.controls.changeProfileProfessionalCountry)[0].selectedIndex=0;$(gam.form.changeProfile.controls.changeProfileIndividualCountry)[0].selectedIndex=0;$(gam.form.changeProfile.controls.changeProfileLanguage).val(gam.helper.getCurrentLanguage());$(gam.form.changeProfile.controls.changeProfileInvestorType)[0].selectedIndex=0};gam.form.changeProfile.validateForm=function(){gam.form.changeProfile.clearError();gam.form.changeProfile.investorType=$(gam.form.changeProfile.controls.changeProfileInvestorType).val();if(gam.form.changeProfile.investorType==gam.form.changeProfile.investorTypeProfessional){gam.form.changeProfile.country=$(gam.form.changeProfile.controls.changeProfileProfessionalCountry).val()}else{gam.form.changeProfile.country=$(gam.form.changeProfile.controls.changeProfileIndividualCountry).val()}gam.form.changeProfile.language=$(gam.form.changeProfile.controls.changeProfileLanguage).val();gam.form.changeProfile.valid=false;if(gam.form.changeProfile.investorType==""){gam.form.changeProfile.setError("Please select an investor type.")}else{if(gam.form.changeProfile.country==""){gam.form.changeProfile.setError("Please select a country")}else{if(gam.form.changeProfile.language==""){gam.form.changeProfile.setError("Please select a language")}else{gam.form.changeProfile.valid=true}}}if(!gam.form.changeProfile.valid){$(gam.form.changeProfile.controls.changeProfileError).show()}else{$(gam.form.changeProfile.controls.changeProfileError).empty().hide()}return gam.form.changeProfile.valid};gam.form.changeProfile.as=function(a,b,d,c){var e=function(){};var f=function(){document.location="/compliance/groups/"+c+"/"+a+"/disclaimer/"+d};gam.umbraco.client.services.authorization.savePendingCertProfile(a,b,c,f,e);return false};gam.form.changeProfile.submitForm=function(){if(gam.form.changeProfile.validateForm()){$(gam.form.changeProfile.controls.changeProfileDialog).dialog(gam.form.changeProfile.dialogActions.close);var c=gam.form.changeProfile.country.split(",");var a=c[0];var b=c[1];gam.form.changeProfile.as(a,b,gam.form.changeProfile.language,gam.form.changeProfile.investorType)}return false};gam.form.changeProfile.cancel=function(){$(gam.form.changeProfile.controls.changeProfileDialog).dialog(gam.form.changeProfile.dialogActions.close);return false};gam.form.changeProfile.selectionChanged=function(){$(gam.form.changeProfile.controls.changeProfileError).empty().hide()};gam.form.changeProfile.investorTypeSelectionChanged=function(){$(gam.form.changeProfile.controls.changeProfileError).empty().hide();var c=$(gam.form.changeProfile.controls.changeProfileInvestorType).val();var b="hidden";var a="";if(c==gam.form.changeProfile.investorTypeProfessional){if($(gam.form.changeProfile.controls.changeProfileProfessionalCountry).hasClass(b)){a=$(gam.form.changeProfile.controls.changeProfileIndividualCountry+" option:selected").text();$(gam.form.changeProfile.controls.changeProfileProfessionalCountry+" option").filter(function(){return($(this).text()==a)}).attr("selected","selected");if($(gam.form.changeProfile.controls.changeProfileProfessionalCountry+" option:selected").text()!=a){$(gam.form.changeProfile.controls.changeProfileProfessionalCountry)[0].selectedIndex=0}$(gam.form.changeProfile.controls.changeProfileIndividualCountry).addClass(b);$(gam.form.changeProfile.controls.changeProfileProfessionalCountry).removeClass(b)}}else{if(c==gam.form.changeProfile.investorTypeIndividual){if($(gam.form.changeProfile.controls.changeProfileIndividualCountry).hasClass(b)){a=$(gam.form.changeProfile.controls.changeProfileProfessionalCountry+" option:selected").text();$(gam.form.changeProfile.controls.changeProfileIndividualCountry+" option").filter(function(){return($(this).text()==a)}).attr("selected","selected");if($(gam.form.changeProfile.controls.changeProfileIndividualCountry+" option:selected").text()!=a){$(gam.form.changeProfile.controls.changeProfileIndividualCountry)[0].selectedIndex=0}$(gam.form.changeProfile.controls.changeProfileProfessionalCountry).addClass(b);$(gam.form.changeProfile.controls.changeProfileIndividualCountry).removeClass(b)}}}};gam.form.changeProfile.chooseYourProfile=function(){gam.form.changeProfile.resetForm();$(gam.form.changeProfile.controls.changeProfileDialog).dialog({autoOpen:false,width:320,modal:true,closeOnEscape:false,resizable:false,dialogClass:"no-close"});$(".ui-dialog-titlebar").hide();$(gam.form.changeProfile.controls.changeProfileDialog).dialog(gam.form.changeProfile.dialogActions.open);return false};var gam=gam||{};gam.form=gam.form||{};gam.form.chooseProfile=gam.form.chooseProfile||{};gam.form.chooseProfile.controls=gam.form.chooseProfile.controls||{};gam.form.chooseProfile.controls.chooseProfileProfessionalCountry="#chooseProfileProfessionalCountry";gam.form.chooseProfile.controls.chooseProfileIndividualCountry="#chooseProfileIndividualCountry";gam.form.chooseProfile.controls.chooseProfileLanguage="#chooseProfileLanguage";gam.form.chooseProfile.controls.chooseProfileInvestorType="#chooseProfileInvestorType";gam.form.chooseProfile.controls.chooseProfileDialog="#chooseProfileDialog";gam.form.chooseProfile.controls.chooseProfileDisclaimerDialog="#chooseProfileDisclaimerDialog";gam.form.chooseProfile.controls.chooseProfileError="#chooseProfileError";gam.form.chooseProfile.dialogActions=gam.form.chooseProfile.dialogActions||{};gam.form.chooseProfile.dialogActions.open="open";gam.form.chooseProfile.dialogActions.close="close";gam.form.chooseProfile.country="";gam.form.chooseProfile.language="";gam.form.chooseProfile.investorType="";gam.form.chooseProfile.investorTypeProfessional="professional";gam.form.chooseProfile.investorTypeIndividual="individual";gam.form.chooseProfile.clearError=function(){$(gam.form.chooseProfile.controls.chooseProfileError).empty().hide()};gam.form.chooseProfile.message=function(a){return gam.form.messages.chooseProfileMessages[gam.helper.getCurrentLanguage()][a]};gam.form.chooseProfile.setError=function(a){alert("Msg:"+gam.form.chooseProfile.message(a));$(gam.form.chooseProfile.controls.chooseProfileError).text(gam.form.chooseProfile.message(a))};gam.form.chooseProfile.validateForm=function(){gam.form.chooseProfile.clearError();gam.form.chooseProfile.investorType=$(gam.form.chooseProfile.controls.chooseProfileInvestorType).val();if(gam.form.chooseProfile.investorType==gam.form.chooseProfile.investorTypeProfessional){gam.form.chooseProfile.country=$(gam.form.chooseProfile.controls.chooseProfileProfessionalCountry).val()}else{gam.form.chooseProfile.country=$(gam.form.chooseProfile.controls.chooseProfileIndividualCountry).val()}gam.form.chooseProfile.language=$(gam.form.chooseProfile.controls.chooseProfileLanguage).val();gam.form.chooseProfile.valid=false;if(gam.form.chooseProfile.investorType==""){gam.form.chooseProfile.setError("selectInvestorType")}else{if(gam.form.chooseProfile.country==""){gam.form.chooseProfile.setError("selectCountry")}else{if(gam.form.chooseProfile.language==""){gam.form.chooseProfile.setError("selectLanguage")}else{gam.form.chooseProfile.valid=true}}}if(!gam.form.chooseProfile.valid){$(gam.form.chooseProfile.controls.chooseProfileError).show()}else{$(gam.form.chooseProfile.controls.chooseProfileError).empty().hide()}return gam.form.chooseProfile.valid};gam.form.chooseProfile.as=function(a,b,d,c){var e=function(){};var f=function(){document.location="/compliance/groups/"+c+"/"+a+"/disclaimer/"+d};gam.umbraco.client.services.authorization.savePendingCertProfile(a,b,c,f,e);return false};gam.form.chooseProfile.submitForm=function(){if(gam.form.chooseProfile.validateForm()){var c=gam.form.chooseProfile.country.split(",");var a=c[0];var b=c[1];gam.form.chooseProfile.as(a,b,gam.form.chooseProfile.language,gam.form.chooseProfile.investorType)}return false};gam.form.chooseProfile.selectionChanged=function(){$(gam.form.chooseProfile.controls.chooseProfileError).empty().hide()};gam.form.chooseProfile.investorTypeSelectionChanged=function(){$(gam.form.chooseProfile.controls.chooseProfileError).empty().hide();var c=$(gam.form.chooseProfile.controls.chooseProfileInvestorType).val();var b="hidden";var a="";if(c==gam.form.chooseProfile.investorTypeProfessional){if($(gam.form.chooseProfile.controls.chooseProfileProfessionalCountry).hasClass(b)){a=$(gam.form.chooseProfile.controls.chooseProfileIndividualCountry+" option:selected").text();$(gam.form.chooseProfile.controls.chooseProfileProfessionalCountry+" option").filter(function(){return($(this).text()==a)}).attr("selected","selected");if($(gam.form.chooseProfile.controls.chooseProfileProfessionalCountry+" option:selected").text()!=a){$(gam.form.chooseProfile.controls.chooseProfileProfessionalCountry)[0].selectedIndex=0}$(gam.form.chooseProfile.controls.chooseProfileIndividualCountry).addClass(b);$(gam.form.chooseProfile.controls.chooseProfileProfessionalCountry).removeClass(b)}}else{if(c==gam.form.chooseProfile.investorTypeIndividual){if($(gam.form.chooseProfile.controls.chooseProfileIndividualCountry).hasClass(b)){a=$(gam.form.chooseProfile.controls.chooseProfileProfessionalCountry+" option:selected").text();$(gam.form.chooseProfile.controls.chooseProfileIndividualCountry+" option").filter(function(){return($(this).text()==a)}).attr("selected","selected");if($(gam.form.chooseProfile.controls.chooseProfileIndividualCountry+" option:selected").text()!=a){$(gam.form.chooseProfile.controls.chooseProfileIndividualCountry)[0].selectedIndex=0}$(gam.form.chooseProfile.controls.chooseProfileProfessionalCountry).addClass(b);$(gam.form.chooseProfile.controls.chooseProfileIndividualCountry).removeClass(b)}}}};$(function(){$("input[type='search']").placeholder();$("a.menuTab").gammenu()});var layoutManager=(function(){var f=false;var b=0;var a=function(){var i=[];var h=function(j,l){var k=j.attr("data-priority");var m=l.attr("data-priority");if(k==m){return 0}return k>m?1:-1};$(".tile:visible").each(function(j){var k=$(this);k.placed=false;i.push(k)});i.sort(h);return i};var d=function(){var i=[];var h=function(k){for(var j=0;j<k.length;j++){i[j].css({position:"static","float":"left",top:"0",left:"0",opacity:"1.0"});i[j].appendTo($("#tileContainer"))}};i=a();h(i)};var c=function(){var m=[],i=[],l=$("#tileContainer").width(),k=$(".tile").first().outerHeight(true);var j=function(o){for(var n in o){o[n].css("position","absolute");o[n].animate({left:o[n].newx,top:o[n].newy,opacity:1},750)}};var h=function(s,r,u){var w=0,q=[];for(var p=0;p<u.length;p++){var n=s;var v=0;for(var o=0;o<m.length;o++){if(!u[o].placed&&m[o].width()<=n){q.push(u[o]);u[o].placed=true;n-=u[o].width();u[o].newx=v;u[o].newy=w;v+=u[o].outerWidth(true)}}w+=r;if(q.length==u.length){$("#tileContainer").css("min-height",w);break}}return q};m=a();i=h(l,k,m);j(i)};var e=function(){if($("#tileContainer").width()>505){c()}else{d()}f=false;b=$("#tileContainer").width()};var g=function(h){if(b==$("#tileContainer").width()){return}if(f==false){f=true;setTimeout(e,h)}};return{requestRedraw:g}})();$(function(){layoutManager.requestRedraw(0);$(window).resize(function(){layoutManager.requestRedraw(450)})});var gam=gam||{};gam.string=gam.string||{};gam.string.format=function(b){var a=arguments;return b.replace(/\{(\d+)\}/g,function(d,e){var c=parseInt(e)+1;return a[c]!==void 0?a[c]:d})};gam.uri=gam.uri||{};gam.uri.parseUri=function(d){var c=gam.uri.parseUri.options,b=c.parser[c.strictMode?"strict":"loose"].exec(d),e={},a=14;while(a--){e[c.key[a]]=b[a]||""}e[c.q.name]={};e[c.key[12]].replace(c.q.parser,function(f,g,h){if(g){e[c.q.name][g]=h}});return e};gam.uri.parseUri.options={strictMode:true,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};gam.debug=gam.debug||{};gam.debug.print=function(a){if(!gam.debug.print.options.enabled){return}gam.debug.print.createContainer();var b=gam.string.format('<div class="debugInfo" style="{0}"/>',gam.debug.print.options.messageStyle);$(b).html(String(a)).appendTo($("#"+gam.debug.print.options.targetId))};gam.debug.printError=function(a){if(!gam.debug.print.options.enabled){return}gam.debug.print.createContainer();var b=gam.string.format('<div class="debugError" style="{0}"/>',gam.debug.print.options.errorMessageStyle);$(b).html(String(a)).appendTo($("#"+gam.debug.print.options.targetId))};gam.debug.print.createContainer=function(){if(!gam.debug.print.options.enabled){return}var b=gam.debug.print.options.targetId;if($("#"+b).length==0){var a=gam.string.format('<div id="{0}" style="{1}"><div class="header" style="{2}">{3}</div></div>',b,gam.debug.print.options.targetStyle,gam.debug.print.options.headerStyle,gam.debug.print.options.headerText);$(a).appendTo("body")}};gam.debug.print.options={enabled:true,targetId:"gamDebugMessages",targetStyle:"border:2px solid black; padding:10px;",headerText:"GAM Ajax Debug Messages",headerStyle:"text-align: center; color: #066; background-color:#D3D3D3; margin-bottom:10px;",messageStyle:"border:1px solid #D3D3D3; margin-bottom:10px; padding: 5px;",errorMessageStyle:"border:1px solid red; margin-bottom:10px; padding: 5px; color: red;"};gam.debug.objectToString=function(a){var c="{<br/>";for(var b in a){if(a.hasOwnProperty(b)&&(typeof(a[b])!="function")){c+=b+":"+a[b]+",<br/>"}}c+="}";return c};gam.helper=gam.helper||{};gam.helper.toggle=function(b){var a=$(b).closest("form").find(":checkbox");if($(b).prop("checked")){a.prop("checked",true)}else{a.prop("checked",false)}};gam.helper.getCurrentLanguage=function(){var b=$("#currentLanguage").text();var a=$.trim(b).toLowerCase();return a};gam.helper.URLInCurrentLanguage=function(a){return a.replace("/en/","/"+gam.helper.getCurrentLanguage()+"/")};gam.helper.addCurrentLanguage=function(a){if(a.length>0){a+="&"}a+="currentLanguage="+gam.helper.getCurrentLanguage();return a};var gam=gam||{};gam.umbraco=gam.umbraco||{};gam.umbraco.client=gam.umbraco.client||{};gam.umbraco.client.services=gam.umbraco.client.services||{};gam.umbraco.client.services.manager=gam.umbraco.client.services.manager||{};gam.umbraco.client.services.fund=gam.umbraco.client.services.fund||{};gam.umbraco.client.services.authorization=gam.umbraco.client.services.authorization||{};gam.umbraco.client.services.user=gam.umbraco.client.services.user||{};$(document).ajaxError(function(b,d,e,c){var a=gam.string.format("Response:{0}<br/>Request:{1}<br/>Exception:{2}",gam.debug.objectToString(d),gam.debug.objectToString(e),c);gam.debug.printError(a)});gam.umbraco.client.services.error=function(c,d,b){var a=gam.string.format("jqXHR:{0}\ntextStatus:{1}\nerrorThrown:{2}",gam.debug.objectToString(c),d,b);alert(a)};gam.umbraco.client.services.manager.commentary=function(){var a=$("#managerCommentaryName option:selected").text();var b={url:"/base/Manager/Commentary/"+a+".aspx",type:"get",success:function(c){$("#managerServiceResult").empty().append(c)}};$.ajax(b);return false};gam.umbraco.client.services.manager.biography=function(){var a=$("#managerBiographyName option:selected").text();var b={url:"/base/Manager/Biography/"+a+".aspx",type:"get",success:function(c){$("#managerBiographyServiceResult").empty().append(c)}};$.ajax(b);return false};gam.umbraco.client.services.manager.funds=function(){var a=$("#managerFundsName option:selected").text().trim();var b={url:"/base/Manager/Funds/"+a+".aspx",type:"get",success:function(c){$("#managerFundsServiceResult").empty().append(c)}};$.ajax(b);return false};gam.umbraco.client.services.fund.findDocument=function(){var a={url:"/base/Fund/FindDocument.aspx",type:"post",data:gam.helper.addCurrentLanguage($("form#findDocument").serialize()),success:function(b){gam.debug.print(b);if(b.indexOf("/")==0){window.location.href=b}else{$("#findDocumentServiceResult").empty().append(b)}}};$.ajax(a);return false};gam.umbraco.client.services.authorization.certifyAs=function(a,c,b){var d={url:"/base/Authorization/CertifyAs/"+a,type:"post",success:function(e){c()},error:function(e){b()}};$.ajax(d);return false};gam.umbraco.client.services.authorization.certifyAsProfile=function(a,b,c,e,d){var g=gam.string.format("/base/Authorization/CertifyAsProfile/{0}/{1}/{2}",a,b,c);var f={url:g,type:"post",success:function(h){e()},error:function(h){d()}};$.ajax(f);return false};gam.umbraco.client.services.authorization.savePendingCertProfile=function(a,b,c,e,d){var g=gam.string.format("/base/Authorization/StorePendingCertValues/{0}/{1}/{2}",a,b,c);var f={url:g,type:"post",success:function(h){e()},error:function(h){d()}};$.ajax(f);return false};gam.umbraco.client.services.user.setProfile=function(a,b){var d=gam.string.format("/base/User/SetProfile/{0}/{1}",a,b);var c={url:d,type:"post",success:function(e){alert("success:"+e)},error:gam.umbraco.client.services.error};$.ajax(c);return false};