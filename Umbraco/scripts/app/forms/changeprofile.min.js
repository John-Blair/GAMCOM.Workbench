var gam=gam||{};gam.form=gam.form||{};gam.form.changeProfile=gam.form.changeProfile||{};gam.form.changeProfile.controls=gam.form.changeProfile.controls||{};gam.form.changeProfile.controls.changeProfileProfessionalCountry="#changeProfileProfessionalCountry";gam.form.changeProfile.controls.changeProfileIndividualCountry="#changeProfileIndividualCountry";gam.form.changeProfile.controls.changeProfileLanguage="#changeProfileLanguage";gam.form.changeProfile.controls.changeProfileInvestorType="#changeProfileInvestorType";gam.form.changeProfile.controls.changeProfileDialog="#changeProfileDialog";gam.form.changeProfile.controls.changeProfileDisclaimerDialog="#changeProfileDisclaimerDialog";gam.form.changeProfile.controls.changeProfileError="#changeProfileError";gam.form.changeProfile.dialogActions=gam.form.changeProfile.dialogActions||{};gam.form.changeProfile.dialogActions.open="open";gam.form.changeProfile.dialogActions.close="close";gam.form.changeProfile.country="";gam.form.changeProfile.language="";gam.form.changeProfile.investorType="";gam.form.changeProfile.investorTypeProfessional="professional";gam.form.changeProfile.investorTypeIndividual="individual";gam.form.changeProfile.clearError=function(){$(gam.form.changeProfile.controls.changeProfileError).empty().hide()};gam.form.changeProfile.setError=function(a){$(gam.form.changeProfile.controls.changeProfileError).text(a)};gam.form.changeProfile.resetForm=function(){gam.form.changeProfile.clearError();var a="hidden";$(gam.form.changeProfile.controls.changeProfileIndividualCountry).addClass(a);$(gam.form.changeProfile.controls.changeProfileProfessionalCountry).removeClass(a);$(gam.form.changeProfile.controls.changeProfileProfessionalCountry)[0].selectedIndex=0;$(gam.form.changeProfile.controls.changeProfileIndividualCountry)[0].selectedIndex=0;$(gam.form.changeProfile.controls.changeProfileLanguage).val(gam.helper.getCurrentLanguage());$(gam.form.changeProfile.controls.changeProfileInvestorType)[0].selectedIndex=0};gam.form.changeProfile.validateForm=function(){gam.form.changeProfile.clearError();gam.form.changeProfile.investorType=$(gam.form.changeProfile.controls.changeProfileInvestorType).val();if(gam.form.changeProfile.investorType==gam.form.changeProfile.investorTypeProfessional){gam.form.changeProfile.country=$(gam.form.changeProfile.controls.changeProfileProfessionalCountry).val()}else{gam.form.changeProfile.country=$(gam.form.changeProfile.controls.changeProfileIndividualCountry).val()}gam.form.changeProfile.language=$(gam.form.changeProfile.controls.changeProfileLanguage).val();gam.form.changeProfile.valid=false;if(gam.form.changeProfile.investorType==""){gam.form.changeProfile.setError("Please select an investor type.")}else{if(gam.form.changeProfile.country==""){gam.form.changeProfile.setError("Please select a country")}else{if(gam.form.changeProfile.language==""){gam.form.changeProfile.setError("Please select a language")}else{gam.form.changeProfile.valid=true}}}if(!gam.form.changeProfile.valid){$(gam.form.changeProfile.controls.changeProfileError).show()}else{$(gam.form.changeProfile.controls.changeProfileError).empty().hide()}return gam.form.changeProfile.valid};gam.form.changeProfile.as=function(a,b,d,c){var e=function(){};var f=function(){document.location="/compliance/groups/"+c+"/"+a+"/disclaimer/"+d};gam.umbraco.client.services.authorization.savePendingCertProfile(a,b,c,f,e);return false};gam.form.changeProfile.submitForm=function(){if(gam.form.changeProfile.validateForm()){$(gam.form.changeProfile.controls.changeProfileDialog).dialog(gam.form.changeProfile.dialogActions.close);var c=gam.form.changeProfile.country.split(",");var a=c[0];var b=c[1];gam.form.changeProfile.as(a,b,gam.form.changeProfile.language,gam.form.changeProfile.investorType)}return false};gam.form.changeProfile.cancel=function(){$(gam.form.changeProfile.controls.changeProfileDialog).dialog(gam.form.changeProfile.dialogActions.close);return false};gam.form.changeProfile.selectionChanged=function(){$(gam.form.changeProfile.controls.changeProfileError).empty().hide()};gam.form.changeProfile.investorTypeSelectionChanged=function(){$(gam.form.changeProfile.controls.changeProfileError).empty().hide();var c=$(gam.form.changeProfile.controls.changeProfileInvestorType).val();var b="hidden";var a="";if(c==gam.form.changeProfile.investorTypeProfessional){if($(gam.form.changeProfile.controls.changeProfileProfessionalCountry).hasClass(b)){a=$(gam.form.changeProfile.controls.changeProfileIndividualCountry+" option:selected").text();$(gam.form.changeProfile.controls.changeProfileProfessionalCountry+" option").filter(function(){return($(this).text()==a)}).attr("selected","selected");if($(gam.form.changeProfile.controls.changeProfileProfessionalCountry+" option:selected").text()!=a){$(gam.form.changeProfile.controls.changeProfileProfessionalCountry)[0].selectedIndex=0}$(gam.form.changeProfile.controls.changeProfileIndividualCountry).addClass(b);$(gam.form.changeProfile.controls.changeProfileProfessionalCountry).removeClass(b)}}else{if(c==gam.form.changeProfile.investorTypeIndividual){if($(gam.form.changeProfile.controls.changeProfileIndividualCountry).hasClass(b)){a=$(gam.form.changeProfile.controls.changeProfileProfessionalCountry+" option:selected").text();$(gam.form.changeProfile.controls.changeProfileIndividualCountry+" option").filter(function(){return($(this).text()==a)}).attr("selected","selected");if($(gam.form.changeProfile.controls.changeProfileIndividualCountry+" option:selected").text()!=a){$(gam.form.changeProfile.controls.changeProfileIndividualCountry)[0].selectedIndex=0}$(gam.form.changeProfile.controls.changeProfileProfessionalCountry).addClass(b);$(gam.form.changeProfile.controls.changeProfileIndividualCountry).removeClass(b)}}}};gam.form.changeProfile.chooseYourProfile=function(){gam.form.changeProfile.resetForm();$(gam.form.changeProfile.controls.changeProfileDialog).dialog({autoOpen:false,width:320,modal:true,closeOnEscape:false,resizable:false,dialogClass:"no-close"});$(".ui-dialog-titlebar").hide();$(gam.form.changeProfile.controls.changeProfileDialog).dialog(gam.form.changeProfile.dialogActions.open);return false};